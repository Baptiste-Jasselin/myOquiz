# S05E02 - MLD, MPD, OOP

## Menu du jour

```
- Correction Challenge
  - MLD
  - MPD
    - Script de cr√©ation des tables
    - Script de remplissage des tables 
    - Scripts NPM pour lancer le reset de la base

- POO | Programmation Orient√© Objet
  - (Factory Design Pattern)
  - Classes / Instances
    - Attributs publiques/priv√©s avec setter/getter 
    - M√©thodes d'instance
    - M√©thodes de classe (statiques)
    - H√©ritage
```

## Rappels - Se connecter √† Postgres et cr√©er un user et une BDD

Rappel vocabulaire

- `SGBD` : Postgres (Serveur)
  - `BDD` : oquiz
    - `TABLES` : user, question, level...
      - `ENREGISTREMENTS` : Chuck Noris

- `psql` (Client "terminal")

[Fiche recap'](https://gist.github.com/enzoclock/548198b0ba090049a2c2bd7bbdb80ff5)

### Se connecter √† Postgres en local

- `sudo -i -u postgres psql` (Linux - VM)

### Cr√©er un utilisateur (ie, administrateur de BDD)

- `CREATE ROLE oquiz WITH LOGIN PASSWORD 'oquiz';`
  - note : √©quivalent de `CREATE USER oquiz WITH PASSWORD 'oquiz';`

### Cr√©er une base de donn√©es

- `CREATE DATABASE oquiz WITH OWNER oquiz;`

### Quelques commandes `psql`

- V√©rifier sur quel base on est plac√© : `\c`
- Voir toutes les BDD du SGBD : `\l`
- Voir tous les utilisateur du SGBD : `\du`
- Se placer sur une base particuli√®re : `\c <nom_de_la_base> <nom_de_lutilisateur>`

### Lancer les scripts de cr√©ation de tables

2 solutions : 

- **Solution 1 / Si on est d√©j√† dans `psql`** : 
  - `\i chemin_du_script` (gliss√© d√©pos√©)

- **Solution 2 / Si on est dans `bash`** : 
  - `psql -U oquiz -d oquiz -f chemin_du_script` (gliss√© d√©pos√©)


## POO - Programmation Orient√©e Objet

(en üá∫üá∏ OOP, Object-Oriented Programming)

### Disclaimer

En JavaScript, on a d√©j√† des OBJETS : `{}`

Certains languages (`C++`, `Java`, ...), il n'y a pas d'objet de base de langage comme en JS. 

En JS, la `POO` (au sens "design pattern") c'est facultatif, c'est une surcouche, ... mais on le retrouve parfois dans des code de librairies.

Par exemple : on utilisera `Sequelize` qui est bas√© sur de la POO (`class`/instance). 

## Kesako ?

Un `objet` ? c'est une representation de quelque chose qui existe dans la "vraie vie". 

Derri√®re la POO, il y a la notion de **factory** : fabrique √† objets, une sorte de "moule". 

- ‚úÖ Voyons d'abord le `Design Pattern` Factory en JS simple (sans POO) --> `20min`
- Puis on introduit la POO en JS (syntaxe de type `Class`) --> `40min`

## Design Pattern `Factory`

**Design Pattern** = une solution courante √† un probl√®me (de code) courant

**Factory** = un moule pour fabriquer des gateau
            = une fonction pour fabriquer des objets (instances)

### Syntaxe JavaScript POO

`ECMAScript` = le langage th√©orique derri√®re JS

2015 = `ES6` sort avec tout un panel de fonctionnalit√©s : 
- litt√©raux de gabarit `${}`
- fonctions fl√©ch√©es `() => {}`
- variables `let` & `const`
- ET la syntaxe `class` / `new` ! => pourquoi ? toujours dans l'optique de rendre JS plus populaire !

### Pourquoi on apprend la POO ? 

- Certains languages ne peuvent pas s'en passer
- En JS, on la retrouve tout de m√™me : `new Date()`
- Ce sont des concepts/lexiques important, seul l√† syntaxe change

### A retenir 

- Factory = fabrique √† objet = (en POO => `class`)
- L'objet cr√©√© s'appelle une `instance` (en POO => `new Class()`)
- Acc√©der √† l'instance A l'int√©rieur de la classe => `this.`
- L'objet a des `propri√©t√©s`
- La classe poss√®de un `constructor`

- `this` = acc√®s √† l'instance courante depuis l'int√©rieur de la classe !

## Ternary Operator JavaScript

Equivalent de if/else MAIS uniquement pour des valeurs ! 

[Documentation](https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Operators/Conditional_operator)

```js
const res = condition ? exprSiVrai : exprSiFaux;
```


